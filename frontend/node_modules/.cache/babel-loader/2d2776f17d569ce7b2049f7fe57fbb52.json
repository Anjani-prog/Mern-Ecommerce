{"ast":null,"code":"var _jsxFileName = \"/Users/anjanitharayil/Documents/Development/ecommerce/frontend/src/components/Login.js\";\nimport React, { Component } from \"react\";\nimport withContext from \"../withContext\";\nimport { Switch, Route, Link, Redirect, BrowserRouter as Router } from \"react-router-dom\";\nimport Register from './Register';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => this.setState({\n      [e.target.name]: e.target.value,\n      error: \"\"\n    });\n\n    this.login = e => {\n      e.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n\n      if (!username || !password) {\n        return this.setState({\n          error: \"Fill all fields!\"\n        });\n      }\n\n      this.props.context.login(username, password).then(loggedIn => {\n        if (!loggedIn) {\n          this.setState({\n            error: \"Invalid Credentails\"\n          });\n        }\n      });\n    };\n\n    this.handleClick = () => {\n      this.routerRef.current.history.push(\"/register\");\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    this.routerRef = React.createRef();\n  }\n\n  render() {\n    return !this.props.context.user ? /*#__PURE__*/React.createElement(Router, {\n      ref: this.routerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero is-info \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, \"Login\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns is-mobile is-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-third\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input\",\n      type: \"email\",\n      name: \"username\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, \"Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input\",\n      type: \"password\",\n      name: \"password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    })), this.state.error && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"has-text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field is-clearfix  is-vcentered is-half \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        margin: \"10px\"\n      },\n      className: \"button column  is-info is-outlined is-pulled-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        margin: \"10px\"\n      },\n      className: \"button column is-info is-outlined is-pulled-right\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"Register\")))))) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default withContext(Login);","map":{"version":3,"sources":["/Users/anjanitharayil/Documents/Development/ecommerce/frontend/src/components/Login.js"],"names":["React","Component","withContext","Switch","Route","Link","Redirect","BrowserRouter","Router","Register","Login","constructor","props","handleChange","e","setState","target","name","value","error","login","preventDefault","username","password","state","context","then","loggedIn","handleClick","routerRef","current","history","push","createRef","render","user","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,QAA9B,EAAwCC,aAAa,IAAIC,MAAzD,QAAuE,kBAAvE;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,KAAN,SAAoBT,SAApB,CAA8B;AAC5BU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,YATmB,GASJC,CAAC,IAAI,KAAKC,QAAL,CAAc;AAAE,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE,KAA5B;AAAmCC,MAAAA,KAAK,EAAE;AAA1C,KAAd,CATD;;AAAA,SAWnBC,KAXmB,GAWVN,CAAD,IAAO;AACbA,MAAAA,CAAC,CAACO,cAAF;AAEA,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAyB,KAAKC,KAApC;;AACA,UAAI,CAACF,QAAD,IAAa,CAACC,QAAlB,EAA4B;AAC1B,eAAO,KAAKR,QAAL,CAAc;AAAEI,UAAAA,KAAK,EAAE;AAAT,SAAd,CAAP;AACD;;AACD,WAAKP,KAAL,CAAWa,OAAX,CAAmBL,KAAnB,CAAyBE,QAAzB,EAAmCC,QAAnC,EACGG,IADH,CACSC,QAAD,IAAc;AAClB,YAAI,CAACA,QAAL,EAAe;AACb,eAAKZ,QAAL,CAAc;AAAEI,YAAAA,KAAK,EAAE;AAAT,WAAd;AACD;AACF,OALH;AAMD,KAxBkB;;AAAA,SA2BnBS,WA3BmB,GA2BL,MAAM;AAClB,WAAKC,SAAL,CAAeC,OAAf,CAAuBC,OAAvB,CAA+BC,IAA/B,CAAoC,WAApC;AACD,KA7BkB;;AAEjB,SAAKR,KAAL,GAAa;AACXF,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIA,SAAKM,SAAL,GAAiB7B,KAAK,CAACiC,SAAN,EAAjB;AACD;;AAwBDC,EAAAA,MAAM,GAAG;AACP,WAAO,CAAC,KAAKtB,KAAL,CAAWa,OAAX,CAAmBU,IAApB,gBACL,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAE,KAAKN,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,CADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,eAQE;AAAM,MAAA,QAAQ,EAAE,KAAKT,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AACE,MAAA,SAAS,EAAC,OADZ;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,QAAQ,EAAE,KAAKP,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAUE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AACE,MAAA,SAAS,EAAC,OADZ;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,QAAQ,EAAE,KAAKA,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAVF,EAmBG,KAAKW,KAAL,CAAWL,KAAX,iBACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC,KAAKK,KAAL,CAAWL,KAA7C,CApBJ,eAsBE;AAAK,MAAA,SAAS,EAAC,0CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,KAAK,EAAE;AAAEiB,QAAAA,MAAM,EAAE;AAAV,OADT;AAEE,MAAA,SAAS,EAAC,oDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE;AACE,MAAA,KAAK,EAAE;AAAEA,QAAAA,MAAM,EAAE;AAAV,OADT;AAEE,MAAA,SAAS,EAAC,mDAFZ;AAGE,MAAA,OAAO,EAAE,KAAKR,WAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CAtBF,CADF,CADF,CARF,CADK,gBAuDL,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvDF;AAyDD;;AA1F2B;;AA6F9B,eAAe1B,WAAW,CAACQ,KAAD,CAA1B","sourcesContent":["import React, { Component } from \"react\";\nimport withContext from \"../withContext\";\nimport { Switch, Route, Link, Redirect, BrowserRouter as Router } from \"react-router-dom\";\nimport Register from './Register';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    this.routerRef = React.createRef();\n  }\n\n  handleChange = e => this.setState({ [e.target.name]: e.target.value, error: \"\" });\n\n  login = (e) => {\n    e.preventDefault();\n\n    const { username, password } = this.state;\n    if (!username || !password) {\n      return this.setState({ error: \"Fill all fields!\" });\n    }\n    this.props.context.login(username, password)\n      .then((loggedIn) => {\n        if (!loggedIn) {\n          this.setState({ error: \"Invalid Credentails\" });\n        }\n      })\n  };\n\n\n  handleClick = () => {\n    this.routerRef.current.history.push(\"/register\");\n  };\n\n  render() {\n    return !this.props.context.user ? (\n      <Router ref={this.routerRef}>\n        <div className=\"hero is-info \">\n          <div className=\"hero-body\">\n            <h4 className=\"title\">Login</h4>\n          </div>\n        </div>\n        <br />\n        <br />\n        <form onSubmit={this.login}>\n          <div className=\"columns is-mobile is-centered\">\n            <div className=\"column is-one-third\">\n              <div className=\"field\">\n                <label className=\"label\">Email: </label>\n                <input\n                  className=\"input\"\n                  type=\"email\"\n                  name=\"username\"\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Password: </label>\n                <input\n                  className=\"input\"\n                  type=\"password\"\n                  name=\"password\"\n                  onChange={this.handleChange}\n                />\n              </div>\n              {this.state.error && (\n                <div className=\"has-text-danger\">{this.state.error}</div>\n              )}\n              <div className=\"field is-clearfix  is-vcentered is-half \">\n                <button\n                  style={{ margin: \"10px\" }}\n                  className=\"button column  is-info is-outlined is-pulled-right\"\n                >\n                  Submit\n                </button>\n                <button\n                  style={{ margin: \"10px\" }}\n                  className=\"button column is-info is-outlined is-pulled-right\"\n                  onClick={this.handleClick}\n                >\n                  Register\n                </button>\n\n              </div>\n            </div>\n          </div>\n\n        </form>\n      </Router >\n    ) : (\n      <Redirect to=\"/products\" />\n    );\n  }\n}\n\nexport default withContext(Login);\n"]},"metadata":{},"sourceType":"module"}